примененные патерны simple factory, singleton, Dependency injection, Data Mapper, Builder